/**
 * Formatting number with thousand seperator
 */
app.filter('formatNumber', function () {
    return (value, n = 0, x = 3) => {

        if (!value) return 0;

        value = parseFloat(value);
        var re = '\\d(?=(\\d{' + (x || 3) + '})+' + (n > 0 ? '\\.' : '$') + ')';
        return value.toFixed(Math.max(0, ~~n)).replace(new RegExp(re, 'g'), '$&,');
    };
});

/**
 * Convert date into human readable
 */
app.filter('convertToHumanDate', function () {
    return (value, onlyDate) => {
        return onlyDate ? moment(value, 'YYYY-MM-DD HH:mm:ss').format('DD-MM-YYYY') : moment(value, 'YYYY-MM-DD HH:mm:ss').format('HH:mm:ss DD-MM-YYYY');
    };
});

app.filter('momentFormat', function () {
    return (value, format) => {
        return moment(value).format(format);
    };
});

/**
 * AngularJS return safe html
 */
app.filter('safeHtml', function ($sce) {
    return function (val) {
        return $sce.trustAsHtml(val);
    };
});

/**
 * Uppercase
 */
app.filter('uppercase', function () {
    return (value) => {
        return value.toUpperCase();
    };
});
